import { NextRequest, NextResponse } from 'next/server'
import { withAuth } from '@/lib/auth'

// Стандартные разделы проекта (справочник)
const STANDARD_SECTIONS = [
  { code: 'ГП', name: 'Генеральный план' },
  { code: 'ПЗ', name: 'Пояснительная записка' },
  { code: 'АР', name: 'Архитектурные решения' },
  { code: 'КР', name: 'Конструктивные решения' },
  { code: 'ИОС', name: 'Инженерно-технические решения' },
  { code: 'ОВ', name: 'Отопление, вентиляция и кондиционирование' },
  { code: 'ВК', name: 'Водоснабжение и канализация' },
  { code: 'ЭОМ', name: 'Электроснабжение и электрооборудование' },
  { code: 'ГСВ', name: 'Газоснабжение (внутреннее)' },
  { code: 'СС', name: 'Системы связи и сигнализации' },
  { code: 'ТХ', name: 'Технологические решения' },
  { code: 'ПОС', name: 'Проект организации строительства' },
  { code: 'ПОД', name: 'Проект организации работ по сносу' },
  { code: 'ПБ', name: 'Мероприятия по обеспечению пожарной безопасности' },
  { code: 'ОИ', name: 'Схема планировочной организации земельного участка' },
  { code: 'ЭН', name: 'Энергоэффективность' },
  { code: 'СМИ', name: 'Сметная документация' },
  { code: 'ОС', name: 'Охрана окружающей среды' },
  { code: 'ПТ', name: 'Пожарная безопасность' },
  { code: 'ДИ', name: 'Декларация промышленной безопасности' },
  { code: 'АТ', name: 'Архитектурно-строительные решения' },
  { code: 'КЖ', name: 'Конструкции железобетонные' },
  { code: 'КМ', name: 'Конструкции металлические' },
  { code: 'КД', name: 'Конструкции деревянные' },
]

// Получить список стандартных разделов
export async function GET(request: NextRequest) {
  return withAuth(request, async () => {
    return NextResponse.json({
      success: true,
      sections: STANDARD_SECTIONS.map((s, i) => ({
        id: s.code,
        code: s.code,
        name: s.name,
        sortOrder: i
      }))
    })
  })
}
